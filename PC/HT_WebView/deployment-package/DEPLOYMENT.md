# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é HT WebView

## üìã –í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 1Ô∏è‚É£ **–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)**
```bash
# –í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
npm run build
node deploy-server.js
```
–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000

### 2Ô∏è‚É£ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ Windows Service (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Windows Server –∏–ª–∏ Windows 10/11
- Node.js 18+ ([—Å–∫–∞—á–∞—Ç—å](https://nodejs.org/))
- 100MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é

```bash
# –í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
deploy.bat
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –°–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç (`npm run build`)
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç —Ñ–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `install-service.js`:
```javascript
env: [
  {
    name: "PORT",
    value: "3000"  // –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
  },
  {
    name: "CSV_DIR", 
    value: "C:\\Data\\CSV"  // –ü–£–¢–¨ –ö –ü–ê–ü–ö–ï –° CSV –§–ê–ô–õ–ê–ú–ò
  }
]
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ Windows Service

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å (–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
node install-service.js
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç:
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ Windows
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–æ–Ω–µ –±–µ–∑ –æ–∫–æ–Ω
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000

### 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º

```bash
# –£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–∏—Å
node uninstall-service.js

# –ò–ª–∏ —á–µ—Ä–µ–∑ Windows Services:
# services.msc ‚Üí "HT WebView Server"
```

### 6. –î–æ—Å—Ç—É–ø –∫ CSV —Ñ–∞–π–ª–∞–º

#### –í–∞—Ä–∏–∞–Ω—Ç A: –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ API (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ü–æ–º–µ—Å—Ç–∏—Ç–µ CSV —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `C:\Data\CSV` (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –≤ install-service.js)
- –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –∏ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ .csv —Ñ–∞–π–ª—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –≤—ã–±–∏—Ä–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ

#### –í–∞—Ä–∏–∞–Ω—Ç B: –°–µ—Ç–µ–≤–∞—è –ø–∞–ø–∫–∞
- –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ CSV —Ñ–∞–π–ª—ã –≤ –æ–±—â–µ–π —Å–µ—Ç–µ–≤–æ–π –ø–∞–ø–∫–µ
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CSV_DIR –Ω–∞ —Å–µ—Ç–µ–≤–æ–π –ø—É—Ç—å: `\\server\share\csv`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

#### –í–∞—Ä–∏–∞–Ω—Ç C: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ MQTT Logger –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ø–∞–ø–∫—É CSV_DIR
- –§–∞–π–ª—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ

### 7. –°–µ—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–µ:**
   ```bash
   netsh advfirewall firewall add rule name="HT WebView" dir=in action=allow protocol=TCP localport=3000
   ```

2. **–ò–∑–º–µ–Ω–∏—Ç–µ listen –∞–¥—Ä–µ—Å** –≤ `deploy-server.js`:
   ```javascript
   app.listen(PORT, '0.0.0.0', () => {  // 0.0.0.0 –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑–≤–Ω–µ
   ```

3. **–î–æ—Å—Ç—É–ø –ø–æ IP:** `http://192.168.1.100:3000`

### 8. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è

#### A. –ü—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä
```bash
npm install -g serve
serve -s dist -l 3000
```

#### B. IIS (Internet Information Services)
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É `dist` –≤ `C:\inetpub\wwwroot\ht-webview`
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ IIS site

#### C. Apache/Nginx
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–∫—Å–∏—Ä—É–π—Ç–µ API –∑–∞–ø—Ä–æ—Å—ã –∫ Node.js —Å–µ—Ä–≤–µ—Ä—É

### 9. –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–õ–æ–≥–∏ Windows Service –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:
- Event Viewer ‚Üí Windows Logs ‚Üí Application
- –ü–æ–∏—Å–∫: "HT WebView Server"

### 10. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
2. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

```bash
node uninstall-service.js
# –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã
node install-service.js
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

```
deployment/
‚îú‚îÄ‚îÄ server.js              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
‚îú‚îÄ‚îÄ install-service.js     # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Windows Service
‚îú‚îÄ‚îÄ uninstall-service.js   # –£–¥–∞–ª–µ–Ω–∏–µ Windows Service
‚îú‚îÄ‚îÄ dist/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ csv-data/              # –ü–∞–ø–∫–∞ —Å CSV —Ñ–∞–π–ª–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    ‚îú‚îÄ‚îÄ data1.csv
    ‚îú‚îÄ‚îÄ data2.csv
    ‚îî‚îÄ‚îÄ ...
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

1. **–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä** - `http://localhost:3000`
2. **–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–µ—Ç—å** - `http://192.168.1.100:3000`
3. **–° –¥–æ–º–µ–Ω–æ–º** - `http://ht-monitor.company.local:3000`
