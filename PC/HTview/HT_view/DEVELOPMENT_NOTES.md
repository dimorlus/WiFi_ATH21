# Заметки по разработке

## Решенные проблемы

### 1. Клавиша P не переключала режимы
**Проблема:** toggleDisplayMode() работал неправильно
**Решение:** Разделили логику для одиночных и множественных графиков

### 2. D/W/M не меняли масштаб
**Проблема:** setTimeScale() только устанавливал переменную
**Решение:** Добавили autoAdjustTimeScale() с реальным изменением диапазона

### 3. Шкала времени не обновлялась при зуме
**Проблема:** updateTimeScale() не вызывался
**Решение:** Добавили вызов в onXAxisRangeChanged() и eventFilter()

### 4. Пропала статистика в статус-баре
**Проблема:** updateStatusStats() показывал только временной диапазон
**Решение:** Восстановили расчет средних значений для видимого диапазона

## Архитектура

### Двойная система данных
- Старая: originalData/rawData для одиночных файлов
- Новая: dataSets[] для множественных графиков
- Переключение между системами автоматическое

### Навигация по времени
- currentTimeScale определяет шаг навигации
- updateTimeScale() автоматически выбирает интервалы тиков
- Все методы проверяют границы данных

### Печать
- Используем QPainter + QPixmap вместо customPlot->print()
- Поддержка черно-белой печати через временное изменение стилей